"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[443],{2427:function(t,e,i){i.r(e),i.d(e,{default:function(){return r}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"camera_outer"},[e("video",{attrs:{id:"videoCamera",width:t.videoWidth,height:t.videoHeight,autoplay:""}}),e("canvas",{staticStyle:{display:"none"},attrs:{id:"canvasCamera",width:t.videoWidth,height:t.videoHeight}}),t.imgSrc?e("div",{staticClass:"img_bg_camera"},[e("p",[t._v("效果预览")]),e("img",{staticClass:"tx_img",attrs:{src:t.imgSrc,alt:""}})]):t._e(),e("div",{staticClass:"button",staticStyle:{"text-align":"center"}},[e("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.getCompetence()}}},[t._v("打开摄像头")]),e("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.stopNavigator()}}},[t._v("关闭摄像头")]),e("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.setImage()}}},[t._v("拍照")])],1)])},n=[],s=(i(1703),{data(){return{videoWidth:document.documentElement.clientWidth,videoHeight:document.documentElement.clientHeight,imgSrc:"",thisCancas:null,thisContext:null,thisVideo:null,openVideo:!1}},mounted(){this.getCompetence()},methods:{getCompetence(){const t=this;t.thisCancas=document.getElementById("canvasCamera"),t.thisContext=this.thisCancas.getContext("2d"),t.thisVideo=document.getElementById("videoCamera"),t.thisVideo.style.display="block",void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(t){const e=navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.getUserMedia;return e?new Promise((function(i,a){e.call(navigator,t,i,a)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))});const e={audio:!1,video:{width:this.videoWidth,height:this.videoHeight,transform:"scaleX(-1)"}};navigator.mediaDevices.getUserMedia(e).then((function(e){"srcObject"in t.thisVideo?t.thisVideo.srcObject=e:t.thisVideo.src=window.URL.createObjectURL(e),t.thisVideo.onloadedmetadata=function(){t.thisVideo.play()}})).catch((t=>{console.log(t)}))},setImage(){const t=this;t.thisContext.drawImage(t.thisVideo,0,0,t.videoWidth,t.videoHeight),t.imgSrc=this.thisCancas.toDataURL("image/png")},stopNavigator(){this.thisVideo.srcObject.getTracks()[0].stop()}}}),o=s,d=i(1001),c=(0,d.Z)(o,a,n,!1,null,null,null),r=c.exports}}]);
//# sourceMappingURL=about.427c05c1.js.map